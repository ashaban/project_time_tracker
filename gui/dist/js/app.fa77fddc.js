(function(){"use strict";var t={2393:function(t,e,r){var a=r(5471),s=r(1380),i=r(4335);let n={};const o=i.A.create(n);o.interceptors.request.use((function(t){return t}),(function(t){return Promise.reject(t)})),o.interceptors.response.use((function(t){return t}),(function(t){return Promise.reject(t)})),Plugin.install=function(t){t.axios=o,window.axios=o,Object.defineProperties(t.prototype,{axios:{get(){return o}},$axios:{get(){return o}}})},a.Ay.use(Plugin);var c=r(5668),l=r(7314),d=r(3698),u=r(2938),m=r(1289),p=r(8143),h=r(6930),g=r(5322),v=r(3299),f=r(1034),A=r(9296),D=r(2367),_=function(){var t=this,e=t._self._c;return e(c.A,[e(g.A,[e(A.A,{attrs:{color:"secondary",dark:""}},[e(D.sw,{domProps:{textContent:t._s(t.title)}}),e(f.A),e(D.MZ,[t.$store.state.denyAccess?t._e():e(l.A,{attrs:{text:"",to:"TrackTime"}},[e(h.A,[t._v("mdi-plus")]),t._v(" Start Working ")],1),t.$store.state.denyAccess?t._e():e(l.A,{attrs:{text:"",to:"AddTime"}},[e(h.A,[t._v("mdi-plus")]),t._v(" Add Time Manually ")],1),t.$store.state.denyAccess?t._e():e(l.A,{attrs:{text:"",to:"TimeReport"}},[e(h.A,[t._v("mdi-format-list-bulleted")]),t._v(" Time Report ")],1),t.$store.state.denyAccess?t._e():e(l.A,{attrs:{text:"",to:"AddProject"}},[e(h.A,[t._v("mdi-plus")]),t._v(" Add Project ")],1),t.$store.state.denyAccess?t._e():e(l.A,{attrs:{text:"",to:"projectsReport"}},[e(h.A,[t._v("mdi-format-list-bulleted")]),t._v(" Projects ")],1)],1)],1),e(m.A,{attrs:{persistent:"",width:"300"},model:{value:t.$store.state.dynamicProgress,callback:function(e){t.$set(t.$store.state,"dynamicProgress",e)},expression:"$store.state.dynamicProgress"}},[e(d.A,{attrs:{color:"primary",dark:""}},[e(u.OQ,[t._v(" "+t._s(t.$store.state.progressTitle)+" "),e(v.A,{staticClass:"mb-0",attrs:{indeterminate:"",color:"white"}})],1)],1)],1),e(m.A,{attrs:{persistent:"","max-width":"500px"},model:{value:t.$store.state.dialogError,callback:function(e){t.$set(t.$store.state,"dialogError",e)},expression:"$store.state.dialogError"}},[e(d.A,[e(A.A,{attrs:{color:"primary",dark:""}},[e(D.sw,[t._v(" "+t._s(t.$store.state.errorTitle)+" ")])],1),e(u.OQ,[t._v(" "+t._s(t.$store.state.errorDescription)+" ")]),e(u.SL,[e(l.A,{attrs:{color:"primary"},nativeOn:{click:function(e){t.$store.state.dialogError=!1}}},[t._v("Ok")])],1)],1)],1),e("br"),e("router-view")],1),e(p.A,{attrs:{dark:"",color:"secondary",fixed:t.fixed,app:""}})],1)},y=[],k=(r(4114),{name:"App",components:{},data(){return{title:"PROJECT TIME TRACKER",fixed:!1}},created(){this.$router.push({name:"TrackTime"})}}),x=k,w=r(1656),S=(0,w.A)(x,_,y,!1,null,null,null),b=S.exports,$=r(3971);a.Ay.use($.A);var j=new $.A({}),T=r(5353);a.Ay.use(T.Ay);var P=new T.Ay.Store({state:{dialogError:!1,errorTitle:"",errorDescription:"",dynamicProgress:!1,progressTitle:""}}),M=r(173),F=r(1965),q=r(4027),C=r(4937),B=r(9483),O=r(6921),R=r(174),E=r(8160),H=r(7683),I=r(5252),z=r(7112),W=function(){var t=this,e=t._self._c;return e(q.A,[e(E.A,{attrs:{row:"",wrap:""}},[e(f.A),e(O.A,{attrs:{xs12:""}},[e(F.A,{staticStyle:{width:"500px"},attrs:{type:"success",dismissible:"",transition:"scale-transition"},model:{value:t.alertSuccess,callback:function(e){t.alertSuccess=e},expression:"alertSuccess"}},[t._v(" "+t._s(t.alertMsg)+" ")]),e(F.A,{staticStyle:{width:"500px"},attrs:{type:"error",dismissible:"",transition:"scale-transition"},model:{value:t.alertFail,callback:function(e){t.alertFail=e},expression:"alertFail"}},[t._v(" "+t._s(t.alertMsg)+" ")]),e(d.A,{staticClass:"mx-auto",staticStyle:{"max-width":"1000px"}},[e(I.A,{attrs:{color:"grey darken-2",dark:""}}),e(A.A,{attrs:{color:"grey darken-1",cards:"",dark:"",flat:""}},[e(u.ri,{staticClass:"title font-weight-regular"},[t._v("Add New Project")])],1),e(R.A,{ref:"form",staticClass:"pa-3 pt-4"},[e(E.A,{attrs:{column:""}},[e(O.A,[e(z.A,{attrs:{required:"","error-messages":t.nameErrors,filled:"",color:"deep-purple",label:"Project Name*"},on:{blur:function(e){return t.$v.name.$touch()},change:function(e){return t.$v.name.$touch()}},model:{value:t.name,callback:function(e){t.name=e},expression:"name"}}),e(z.A,{attrs:{required:"","error-messages":t.codeErrors,filled:"",color:"deep-purple",label:"Tracking Code*"},on:{blur:function(e){return t.$v.code.$touch()},change:function(e){return t.$v.code.$touch()}},model:{value:t.code,callback:function(e){t.code=e},expression:"code"}}),e(H.A,{attrs:{"close-on-content-click":!1,"nudge-right":40,transition:"scale-transition","offset-y":"","min-width":"290px"},scopedSlots:t._u([{key:"activator",fn:function({on:r}){return[e(z.A,t._g({attrs:{label:"Date","prepend-icon":"mdi-calendar",readonly:""},model:{value:t.dateFormatted,callback:function(e){t.dateFormatted=e},expression:"dateFormatted"}},r))]}}]),model:{value:t.dateMenu,callback:function(e){t.dateMenu=e},expression:"dateMenu"}},[e(C.A,{on:{input:function(e){t.dateMenu=!1}},model:{value:t.date,callback:function(e){t.date=e},expression:"date"}})],1)],1)],1)],1),e(B.A),e(u.SL,[e(l.A,{staticClass:"white--text",attrs:{disabled:t.$v.$invalid,color:"deep-purple accent-4",depressed:""},on:{click:function(e){return t.addProject()}}},[e(h.A,{attrs:{left:""}},[t._v("mdi-content-save-check")]),t._v("Add ")],1)],1)],1)],1),e(f.A)],1)],1)},L=[],N=r(3278);const U="";var Y={validations:{name:{required:N.mw},date:{required:N.mw},code:{required:N.mw}},data(){return{name:"",dateMenu:!1,date:(new Date).toISOString().substr(0,10),code:"",alertFail:!1,alertSuccess:!1,alertMsg:""}},methods:{addProject(){this.$store.state.dynamicProgress=!0,this.$store.state.progressTitle="Saving Project";let t=new FormData;t.append("name",this.name),t.append("date",this.date),t.append("code",this.code),i.A.post(U+"/addProject/",t,{headers:{"Content-Type":"multipart/form-data"}}).then((()=>{this.name="",this.code="",this.$store.state.dynamicProgress=!1,this.alertSuccess=!0,this.alertMsg="Project added successfully",setTimeout((()=>{this.alertSuccess=!1}),3e3)})).catch((t=>{this.$store.state.dynamicProgress=!1,this.alertFail=!0,this.alertMsg="This Project was not added, something went wrong",console.log(t.response.data.error)}))}},computed:{dateFormatted(){if(!this.date)return null;const[t,e,r]=this.date.split("-");return`${r}/${e}/${t}`},nameErrors(){const t=[];return this.$v.name.$dirty?(!this.$v.name.required&&t.push("Project name is required"),t):t},dateErrors(){const t=[];return this.$v.date.$dirty?(!this.$v.date.required&&t.push("Date is required"),t):t},codeErrors(){const t=[];return this.$v.code.$dirty?(!this.$v.code.required&&t.push("Tracking Code is required"),t):t}}},Q=Y,J=(0,w.A)(Q,W,L,!1,null,null,null),K=J.exports,Z=r(20),G=r(4112),V=r(6513),X=function(){var t=this,e=t._self._c;return e(q.A,[e(E.A,{attrs:{row:"",wrap:""}},[e(f.A),e(O.A,{attrs:{xs12:""}},[e(F.A,{staticStyle:{width:"500px"},attrs:{type:"success",dismissible:"",transition:"scale-transition"},model:{value:t.alertSuccess,callback:function(e){t.alertSuccess=e},expression:"alertSuccess"}},[t._v(" "+t._s(t.alertMsg)+" ")]),e(F.A,{staticStyle:{width:"500px"},attrs:{type:"error",dismissible:"",transition:"scale-transition"},model:{value:t.alertFail,callback:function(e){t.alertFail=e},expression:"alertFail"}},[t._v(" "+t._s(t.alertMsg)+" ")]),e(d.A,{staticClass:"mx-auto",staticStyle:{"max-width":"1000px"}},[e(I.A,{attrs:{color:"grey darken-2",dark:""}}),e(A.A,{attrs:{color:"grey darken-1",cards:"",dark:"",flat:""}},[t.running||t.timeData.timeBegan?t.running?t._e():e(u.ri,{staticClass:"title font-weight-regular"},[t._v("Save or Resume Your Paused Tracked Work")]):e(u.ri,{staticClass:"title font-weight-regular"},[t._v("Select Project First Then Click Start To Begin Working")]),t.running?e(u.ri,{staticClass:"title font-weight-regular"},[t._v("Your work Is Being Tracked")]):t._e()],1),e(R.A,{ref:"form",staticClass:"pa-3 pt-4"},[e(E.A,{attrs:{column:""}},[e(O.A,[e(Z.A,{attrs:{required:"",items:t.projects,"item-text":"name","item-value":"_id","single-line":"",clearable:"","error-messages":t.projectErrors,label:"Project*"},on:{blur:function(e){return t.$v.project.$touch()},change:t.projectSelected},model:{value:t.project,callback:function(e){t.project=e},expression:"project"}})],1),e("br"),e(E.A,{attrs:{row:"",wrap:""}},[e(O.A,{attrs:{xs2:""}}),e(O.A,{attrs:{xs10:""}},[e(E.A,{attrs:{row:"",wrap:""}},[e(O.A,[e(G.A,{attrs:{size:"100",color:"green"}},[e("b",[t._v(" Start Time"),e("br"),t.timeData.time.length>0?[t._v(" "+t._s(t.timeData.time[0].start)+" ")]:t._e()],2)])],1),e(O.A,[e(G.A,{attrs:{size:"100",color:"red"}},[e("b",[t._v(" End Time"),e("br"),t.timeData.time.length>0?[t._v(" "+t._s(t.timeData.time[t.timeData.time.length-1].end)+" ")]:t._e()],2)])],1)],1),e("br"),e("span",{staticClass:"time"},[t._v(t._s(t.time))]),t.ready?e("div",{staticClass:"btn-container"},[t.running||t.timeData.timeBegan?t.running?t._e():e("a",{attrs:{id:"start"},on:{click:function(e){return t.start()}}},[t._v("Resume")]):e("a",{attrs:{id:"start"},on:{click:function(e){return t.start()}}},[t._v("Start")]),t.running?e("a",{attrs:{id:"stop"},on:{click:function(e){return t.stop()}}},[t._v("Pause")]):t._e(),t.running||!t.running&&t.timeData.timeBegan?e("a",{attrs:{id:"reset"},on:{click:t.saveTime}},[t._v("Finish Work")]):t._e(),t.timeData.timeBegan?e("a",{attrs:{id:"reset",color:"red"},on:{click:function(e){return t.reset()}}},[t._v("Reset")]):t._e()]):t._e()],1)],1),e(O.A,[t.timeData.time.length>0?[t._v(" Time Laps ")]:t._e(),e("br"),e("br"),e(E.A,{attrs:{row:"",wrap:""}},[t._l(t.timeData.time,(function(r,a){return[e(O.A,{key:a,attrs:{xs3:""}},[e(d.A,{attrs:{color:"grey",dark:""}},[e(u.ri,{attrs:{"primary-title":""}},[e("b",[t._v(t._s(r.date))])]),e(u.OQ,[e("b",[t._v(t._s(r.start)+" - "+t._s(r.end))])])],1)],1)]}))],2)],2),e(O.A,[e(V.A,{attrs:{label:"What are you working on",filled:"",hint:"Tasks"},on:{input:t.tasksAdded},model:{value:t.task,callback:function(e){t.task=e},expression:"task"}})],1)],1)],1),e(B.A)],1)],1),e(f.A)],1)],1)},tt=[];const et="",rt={data(){return{projects:[]}},methods:{getProjects(t){t||(t=""),i.A.get(et+"/getProjects?status="+t).then((t=>{this.projects=t.data}))}}},at="";var st={mixins:[rt],validations:{project:{required:N.mw}},data(){return{dateMenu:!1,date:(new Date).toISOString().substr(0,10),project:"",task:"",alertFail:!1,alertSuccess:!1,alertMsg:"",timeInputs:[0],time:"00:00:00.000",timeStarted:"",timeBegan:null,currentTimeBegan:null,timeStopped:null,stoppedDuration:0,started:null,running:!1,timeData:{project:"",tasks:"",worked:"",timeBegan:null,currentTimeBegan:null,timeStopped:null,stoppedDuration:0,running:!1,time:[]}}},methods:{projectSelected(){this.$v.project.$touch(),this.timeData.project=this.project,this.updateProgress()},tasksAdded(){this.timeData.tasks=this.task},resumeTimer(){this.timeBegan=new Date(this.timeData.timeBegan),this.currentTimeBegan=new Date(this.timeData.currentTimeBegan),this.timeStopped=new Date(this.timeData.timeStopped),this.stoppedDuration=this.timeData.stoppedDuration,this.time=this.timeData.worked,this.project=this.timeData.project,this.task=this.timeData.tasks,this.running=this.timeData.running,this.running&&(this.started=setInterval(this.clockRunning,10))},start(){this.running||(null===this.timeBegan?(this.timeBegan=new Date,this.timeData.timeBegan=new Date(this.timeBegan),this.timeData.currentTimeBegan=new Date(this.timeBegan),this.currentTimeBegan=new Date(this.timeBegan)):(this.currentTimeBegan=new Date,this.timeData.currentTimeBegan=new Date(this.currentTimeBegan)),null!==this.timeStopped&&(this.stoppedDuration+=new Date-this.timeStopped,this.timeData.stoppedDuration=this.stoppedDuration),this.started=setInterval(this.clockRunning,10),this.timeData.time.push({date:this.currentDate,start:this.formattedStartedTime,end:""}),this.running=!0,this.timeData.running=this.running,this.updateProgress())},stop(){if(this.running){this.running=!1,this.timeData.running=this.running,this.timeStopped=new Date,this.timeData.timeStopped=new Date(this.timeStopped),clearInterval(this.started);for(let t in this.timeData.time)this.timeData.time[t].start===this.formattedStartedTime&&(this.timeData.time[t].end=this.formattedEndTime);this.updateProgress()}},reset(){this.running=!1,clearInterval(this.started),this.stoppedDuration=0,this.timeBegan=null,this.timeStopped=null,this.time="00:00:00.000",this.project="",this.task="",this.timeData.project="",this.timeData.tasks="",this.timeData.worked="",this.timeData.timeBegan=null,this.timeData.stoppedDuration=0,this.timeData.time=[],this.deleteProgress()},clockRunning(){var t=new Date,e=new Date(t-this.timeBegan-this.stoppedDuration),r=e.getUTCHours(),a=e.getUTCMinutes(),s=e.getUTCSeconds(),i=e.getUTCMilliseconds();this.time=this.zeroPrefix(r,2)+":"+this.zeroPrefix(a,2)+":"+this.zeroPrefix(s,2)+"."+this.zeroPrefix(i,3),this.timeData.worked=this.time,this.time&&(document.title=this.time.split(".")[0])},updateProgress(){let t=new FormData;t.append("timeData",JSON.stringify(this.timeData)),i.A.post(at+"/UpdateProgress/",t,{headers:{"Content-Type":"multipart/form-data"}}).catch((()=>{this.updateProgress()}))},getProgress(){i.A.get(at+"/getProgress").then((t=>{if(t.data.timeBegan){for(let e in t.data)this.timeData[e]=t.data[e];this.resumeTimer()}}))},deleteProgress(){i.A.delete(at+"/deleteProgress").catch((()=>{this.deleteProgress()}))},zeroPrefix(t,e){for(var r="",a=0;a<e;a++)r+="0";return(r+t).slice(-e)},addRow:function(){this.timeInputs.push(parseInt(this.timeInputs[this.timeInputs.length-1])+1)},removeRow:function(){this.timeInputs.splice(-1)},saveTime(){this.stop(),this.$store.state.dynamicProgress=!0,this.$store.state.progressTitle="Saving Time";let t=new FormData,e={project:this.project,time:this.timeData.time,task:this.task};t.append("workData",JSON.stringify(e)),i.A.post(at+"/addAutoTime/",t,{headers:{"Content-Type":"multipart/form-data"}}).then((()=>{this.reset(),this.project="",this.task="",this.$store.state.dynamicProgress=!1,this.alertSuccess=!0,this.alertMsg="Time added successfully",setTimeout((()=>{this.alertSuccess=!1}),3e3)})).catch((()=>{this.$store.state.dynamicProgress=!1,this.alertFail=!0,this.alertMsg="This Time was not added, something went wrong"}))}},computed:{currentDate(){let t=parseInt(this.currentTimeBegan.getMonth());return t+=1,1==t.toString().length&&(t="0"+t),this.currentTimeBegan.getDate()+"-"+t+"-"+this.currentTimeBegan.getFullYear()},formattedEndTime(){return this.timeStopped?this.zeroPrefix(this.timeStopped.getHours(),2)+":"+this.zeroPrefix(this.timeStopped.getMinutes(),2)+":"+this.zeroPrefix(this.timeStopped.getSeconds(),2):""},formattedStartedTime(){return this.currentTimeBegan?this.zeroPrefix(this.currentTimeBegan.getHours(),2)+":"+this.zeroPrefix(this.currentTimeBegan.getMinutes(),2)+":"+this.zeroPrefix(this.currentTimeBegan.getSeconds(),2):""},ready(){return!this.$v.$invalid},projectErrors(){const t=[];return this.$v.project.$dirty?(!this.$v.project.required&&t.push("Project is required"),t):t}},created(){this.getProgress(),this.getProjects("active")}},it=st,nt=(0,w.A)(it,X,tt,!1,null,null,null),ot=nt.exports,ct=function(){var t=this,e=t._self._c;return e(q.A,[e(E.A,{attrs:{row:"",wrap:""}},[e(f.A),e(O.A,{attrs:{xs12:""}},[e(F.A,{staticStyle:{width:"500px"},attrs:{type:"success",dismissible:"",transition:"scale-transition"},model:{value:t.alertSuccess,callback:function(e){t.alertSuccess=e},expression:"alertSuccess"}},[t._v(" "+t._s(t.alertMsg)+" ")]),e(F.A,{staticStyle:{width:"500px"},attrs:{type:"error",dismissible:"",transition:"scale-transition"},model:{value:t.alertFail,callback:function(e){t.alertFail=e},expression:"alertFail"}},[t._v(" "+t._s(t.alertMsg)+" ")]),e(d.A,{staticClass:"mx-auto",staticStyle:{"max-width":"1000px"}},[e(I.A,{attrs:{color:"grey darken-2",dark:""}}),e(A.A,{attrs:{color:"grey darken-1",cards:"",dark:"",flat:""}},[e(u.ri,{staticClass:"title font-weight-regular"},[t._v("Add Time (24 Hours Format)")])],1),e(R.A,{ref:"form",staticClass:"pa-3 pt-4"},[e(E.A,{attrs:{column:""}},[e(O.A,[e(Z.A,{attrs:{required:"",items:t.projects,"item-text":"name","item-value":"_id","single-line":"",clearable:"","error-messages":t.projectErrors,filled:"",label:"Project"},on:{blur:function(e){return t.$v.project.$touch()},change:function(e){return t.$v.project.$touch()}},model:{value:t.project,callback:function(e){t.project=e},expression:"project"}}),e(z.A,{attrs:{required:"","error-messages":t.timeErrors,filled:"",color:"deep-purple",label:"Time*"},on:{blur:function(e){return t.$v.time.$touch()},change:function(e){return t.$v.time.$touch()}},model:{value:t.time,callback:function(e){t.time=e},expression:"time"}}),e(H.A,{attrs:{"close-on-content-click":!1,"nudge-right":40,transition:"scale-transition","offset-y":"","min-width":"290px"},scopedSlots:t._u([{key:"activator",fn:function({on:r}){return[e(z.A,t._g({attrs:{label:"Date","prepend-icon":"mdi-calendar",readonly:""},model:{value:t.dateFormatted,callback:function(e){t.dateFormatted=e},expression:"dateFormatted"}},r))]}}]),model:{value:t.dateMenu,callback:function(e){t.dateMenu=e},expression:"dateMenu"}},[e(C.A,{on:{input:function(e){t.dateMenu=!1}},model:{value:t.date,callback:function(e){t.date=e},expression:"date"}})],1)],1)],1)],1),e(B.A),e(u.SL,[e(l.A,{staticClass:"white--text",attrs:{disabled:t.$v.$invalid,color:"deep-purple accent-4",depressed:""},on:{click:t.addTime}},[e(h.A,{attrs:{left:""}},[t._v("mdi-content-save-check")]),t._v("Add ")],1)],1)],1)],1),e(f.A)],1)],1)},lt=[];const dt="";var ut={mixins:[rt],validations:{date:{required:N.mw},project:{required:N.mw},time:{required:N.mw}},data(){return{dateMenu:!1,date:(new Date).toISOString().substr(0,10),project:"",time:"",alertFail:!1,alertSuccess:!1,alertMsg:""}},methods:{addTime(){this.$store.state.dynamicProgress=!0,this.$store.state.progressTitle="Saving Time";let t=new FormData;t.append("project",this.project),t.append("date",this.date),t.append("time",this.time),i.A.post(dt+"/addTime/",t,{headers:{"Content-Type":"multipart/form-data"}}).then((()=>{this.project="",this.time="",this.$store.state.dynamicProgress=!1,this.alertSuccess=!0,this.alertMsg="Time added successfully",setTimeout((()=>{this.alertSuccess=!1}),3e3)})).catch((()=>{this.$store.state.dynamicProgress=!1,this.alertFail=!0,this.alertMsg="This Time was not added, something went wrong"}))}},computed:{dateFormatted(){if(!this.date)return null;const[t,e,r]=this.date.split("-");return`${r}/${e}/${t}`},projectErrors(){const t=[];return this.$v.project.$dirty?(!this.$v.project.required&&t.push("Project is required"),t):t},dateErrors(){const t=[];return this.$v.date.$dirty?(!this.$v.date.required&&t.push("Date is required"),t):t},timeErrors(){const t=[];return this.$v.time.$dirty?(!this.$v.time.required&&t.push("Time is required"),t):t}},created(){this.getProjects("active")}},mt=ut,pt=(0,w.A)(mt,ct,lt,!1,null,null,null),ht=pt.exports,gt=r(5006),vt=function(){var t=this,e=t._self._c;return e(q.A,{attrs:{"grid-list-xs":""}},[t.editDialog?e(m.A,{attrs:{persistent:"",width:"530px"},model:{value:t.editDialog,callback:function(e){t.editDialog=e},expression:"editDialog"}},[e(d.A,{attrs:{width:"530px"}},[e(A.A,{attrs:{color:"secondary",dark:""}},[e(f.A),e(l.A,{attrs:{icon:"",dark:""},nativeOn:{click:function(e){t.editDialog=!1}}},[e(h.A,[t._v("mdi-close")])],1)],1),e(u.OQ,[e(E.A,{attrs:{column:""}},[e(O.A,{attrs:{xs1:""}},[e(Z.A,{attrs:{required:"",items:t.projects,"item-text":"name","item-value":"_id","single-line":"",clearable:"","error-messages":t.editProjectErrors,filled:"",label:"Project"},on:{blur:function(e){return t.$v.editProject.$touch()},change:function(e){return t.$v.editProject.$touch()}},model:{value:t.editProject,callback:function(e){t.editProject=e},expression:"editProject"}}),e(z.A,{attrs:{required:"","error-messages":t.timeErrors,filled:"",color:"deep-purple",label:"Time*"},on:{blur:function(e){return t.$v.time.$touch()},change:function(e){return t.$v.time.$touch()}},model:{value:t.time,callback:function(e){t.time=e},expression:"time"}}),e(H.A,{attrs:{"close-on-content-click":!1,"nudge-right":40,transition:"scale-transition","offset-y":"","min-width":"290px"},scopedSlots:t._u([{key:"activator",fn:function({on:r}){return[e(z.A,t._g({attrs:{label:"Date","prepend-icon":"mdi-calendar",readonly:""},model:{value:t.dateFormatted,callback:function(e){t.dateFormatted=e},expression:"dateFormatted"}},r))]}}],null,!1,1897420712),model:{value:t.dateMenu,callback:function(e){t.dateMenu=e},expression:"dateMenu"}},[e(C.A,{on:{input:function(e){t.dateMenu=!1}},model:{value:t.date,callback:function(e){t.date=e},expression:"date"}})],1)],1)],1)],1),e(u.SL,{staticStyle:{float:"center"}},[e(l.A,{staticStyle:{color:"white"},attrs:{color:"error"},nativeOn:{click:function(e){t.editDialog=!1}}},[e(h.A,{attrs:{dark:"",left:""}},[t._v("mdi-cancel")]),t._v("Cancel ")],1),e(f.A),e(l.A,{attrs:{disabled:t.$v.$invalid,color:"primary",dark:""},nativeOn:{click:function(e){return t.saveEdit()}}},[e(h.A,{attrs:{left:""}},[t._v("mdi-content-save-check")]),t._v("Save ")],1)],1)],1)],1):t._e(),e(E.A,{attrs:{row:"",wrap:""}},[e(f.A),e(O.A,{attrs:{xs2:""}},[e(H.A,{attrs:{"close-on-content-click":!1,"nudge-right":40,transition:"scale-transition","offset-y":"","min-width":"290px"},scopedSlots:t._u([{key:"activator",fn:function({on:r}){return[e(z.A,t._g({attrs:{label:"Start Date","prepend-icon":"mdi-calendar",readonly:""},model:{value:t.startDateFormatted,callback:function(e){t.startDateFormatted=e},expression:"startDateFormatted"}},r))]}}]),model:{value:t.startDateMenu,callback:function(e){t.startDateMenu=e},expression:"startDateMenu"}},[e(C.A,{on:{input:function(e){t.startDateMenu=!1}},model:{value:t.startDate,callback:function(e){t.startDate=e},expression:"startDate"}})],1)],1),e(f.A),e(O.A,{attrs:{xs2:""}},[e(H.A,{attrs:{"close-on-content-click":!1,"nudge-right":40,transition:"scale-transition","offset-y":"","min-width":"290px"},scopedSlots:t._u([{key:"activator",fn:function({on:r}){return[e(z.A,t._g({attrs:{label:"End Date","prepend-icon":"mdi-calendar",readonly:""},model:{value:t.endDateFormatted,callback:function(e){t.endDateFormatted=e},expression:"endDateFormatted"}},r))]}}]),model:{value:t.endDateMenu,callback:function(e){t.endDateMenu=e},expression:"endDateMenu"}},[e(C.A,{on:{input:function(e){t.endDateMenu=!1}},model:{value:t.endDate,callback:function(e){t.endDate=e},expression:"endDate"}})],1)],1),e(f.A),e(O.A,[e(Z.A,{attrs:{required:"",items:t.projects,"item-text":"name","item-value":"_id","single-line":"",clearable:"",label:"Project"},model:{value:t.project,callback:function(e){t.project=e},expression:"project"}})],1),e(f.A),e(O.A,{attrs:{xs2:""}},[e(l.A,{attrs:{color:"secondary",rounded:""},on:{click:t.getReport}},[e(h.A,{attrs:{left:""}},[t._v("mdi-format-list-bulleted")]),t._v(" Filter ")],1)],1)],1),e(F.A,{staticStyle:{width:"500px"},attrs:{type:"success",dismissible:"",transition:"scale-transition"},model:{value:t.alertSuccess,callback:function(e){t.alertSuccess=e},expression:"alertSuccess"}},[t._v(" "+t._s(t.alertMsg)+" ")]),e(F.A,{staticStyle:{width:"500px"},attrs:{type:"error",dismissible:"",transition:"scale-transition"},model:{value:t.alertFail,callback:function(e){t.alertFail=e},expression:"alertFail"}},[t._v(" "+t._s(t.alertMsg)+" ")]),e(gt.A,{attrs:{headers:t.reportHeader,items:t.reportRows,"pagination.sync":"pagination","item-key":"id"},scopedSlots:t._u([{key:"item",fn:function(r){return[e("tr",[e("td",[t._v(t._s(r.item.project))]),e("td",[t._v(t._s(r.item.date))]),e("td",[t._v(t._s(r.item.timeRange))]),e("td",[t._v(t._s(r.item.task))]),e("td",[t._v(t._s(r.item.durationHours))]),e("td",[t._v(t._s(r.item.durationMinutes))]),e("td",[t._v(t._s(r.item.durationSeconds))]),e("td",[e(l.A,{attrs:{color:"secondary",rounded:"",icon:""},on:{click:function(e){return t.editTime(r.item)}}},[e(h.A,[t._v("mdi-pencil")])],1)],1)])]}}])}),e(E.A,{attrs:{row:"",wrap:""}},[e(O.A,{attrs:{xs2:"","align-content-end":""}},[e("b",[t._v("Total "+t._s(t.totalDurationHours)+" Hours")])]),e(O.A,{attrs:{xs2:"","align-content-end":""}},[e("b",[t._v("Total "+t._s(t.totalDurationMinutes)+" Minutes")])]),e(O.A,{attrs:{xs2:"","align-content-end":""}},[e("b",[t._v("Total "+t._s(t.totalDurationSeconds)+" Seconds")])]),e(O.A,{attrs:{xs2:"","align-content-end":""}},[e("b",[t._v("Total "+t._s(t.totalHours)+" Hours:Minutes")])]),e(O.A,{attrs:{xs2:"","align-content-end":""}},[e("b",[t._v("Total "+t._s((t.totalDurationHours/8).toFixed(2))+" Days")])]),e(O.A,{attrs:{xs2:"","align-content-end":""}},[e("b",[t._v("Required "+t._s(t.expectedWorkingDays)+" Days")])])],1)],1)},ft=[];const At="";var Dt={mixins:[rt],validations:{date:{required:N.mw},editProject:{required:N.mw},time:{required:N.mw}},data(){return{startDate:"",endDate:"",timeObject:{},alertFail:!1,alertSuccess:!1,alertMsg:"",editDialog:!1,dateMenu:!1,date:(new Date).toISOString().substr(0,10),editProject:"",project:"",time:"",totalHours:"0:00",totalDurationHours:"",totalDurationMinutes:"",totalDurationSeconds:"",expectedWorkingDays:0,reportRows:[],reportHeader:[{text:"Project",value:"project"},{text:"Date",value:"date"},{text:"Time Range",value:"timeRange"},{text:"Tasks",value:"task"},{text:"Hours",value:"durationHours"},{text:"Minutes",value:"durationMinutes"},{text:"Seconds",value:"durationSeconds"}],startDateMenu:!1,endDateMenu:!1}},methods:{getReport(){i.A.get(At+"/getTime?startDate="+this.startDate+"&endDate="+this.endDate+"&project="+this.project).then((t=>{this.reportRows=t.data.rows,this.totalHours=t.data.totalHours,this.totalDurationHours=t.data.totalDurationHours,this.totalDurationMinutes=t.data.totalDurationMinutes,this.totalDurationSeconds=t.data.totalDurationSeconds})),i.A.get(At+"/getWorkingDays/"+this.startDate+"/"+this.endDate).then((t=>{this.expectedWorkingDays=t.data.days}))},editTime(t){this.timeObject=t,this.editDialog=!0,this.editProject=t.project_id,this.time=t.timeRange;let e=t.date.split("-");this.date=new Date(e[2]+"-"+e[1]+"-"+e[0]).toISOString().substr(0,10)},saveEdit(){this.$store.state.dynamicProgress=!0,this.$store.state.progressTitle="Saving Time";let t=new FormData;t.append("project",this.editProject),t.append("_id",this.timeObject._id),t.append("date",this.date),t.append("time",this.time),i.A.post(At+"/updateTime/",t,{headers:{"Content-Type":"multipart/form-data"}}).then((()=>{this.editProject="",this.time="",this.editDialog=!1,this.$store.state.dynamicProgress=!1,this.alertSuccess=!0,this.alertMsg="Time added successfully",this.getReport(),setTimeout((()=>{this.alertSuccess=!1}),3e3)})).catch((t=>{this.$store.state.dynamicProgress=!1,this.alertFail=!0,this.alertMsg="This Time was not added, something went wrong",console.log(t.response.data.error)}))},defaultEndDate(){let t=new Date,e=t.getMonth()+1;1===e.toString().length&&(e="0"+e);let r=t.getFullYear(),a=new Date(r,e,0).getDate(),s=r+"-"+e+"-"+a;return new Date(s).toISOString().substr(0,10)},defaultStartDate(){let t=new Date,e=t.getMonth()+1;1===e.toString().length&&(e="0"+e);let r=t.getFullYear(),a=r+"-"+e+"-01";return new Date(a).toISOString().substr(0,10)}},computed:{startDateFormatted(){if(!this.startDate)return null;const[t,e,r]=this.startDate.split("-");return`${r}/${e}/${t}`},endDateFormatted(){if(!this.endDate)return null;const[t,e,r]=this.endDate.split("-");return`${r}/${e}/${t}`},dateFormatted(){if(!this.date)return null;const[t,e,r]=this.date.split("-");return`${r}/${e}/${t}`},editProjectErrors(){const t=[];return this.$v.editProject.$dirty?(!this.$v.editProject.required&&t.push("Project is required"),t):t},dateErrors(){const t=[];return this.$v.date.$dirty?(!this.$v.date.required&&t.push("Date is required"),t):t},timeErrors(){const t=[];return this.$v.time.$dirty?(!this.$v.time.required&&t.push("Time is required"),t):t}},created(){this.startDate=this.defaultStartDate(),this.endDate=this.defaultEndDate(),this.getReport(),this.getProjects()}},_t=Dt,yt=(0,w.A)(_t,vt,ft,!1,null,null,null),kt=yt.exports,xt=function(){var t=this,e=t._self._c;return e(q.A,{attrs:{"grid-list-xs":""}},[t._v(" Projects List "),e(gt.A,{attrs:{headers:t.reportHeader,items:t.reportRows,"pagination.sync":"pagination","item-key":"id"},scopedSlots:t._u([{key:"item",fn:function(r){return[e("tr",[e("td",[t._v(t._s(r.item.name))]),e("td",[t._v(t._s(r.item.code))]),e("td",[t._v(t._s(r.item.status))]),e("td",["active"===r.item.status?e(l.A,{attrs:{color:"secondary",round:"",small:""},on:{click:function(e){return t.changeStatus(r.item._id,"inactive")}}},[e(h.A,[t._v("mdi-pencil")]),t._v(" Deactivate ")],1):e(l.A,{attrs:{color:"secondary",round:"",small:""},on:{click:function(e){return t.changeStatus(r.item._id,"active")}}},[e(h.A,[t._v("mdi-pencil")]),t._v(" Activate ")],1)],1)])]}}])})],1)},wt=[];const St="";var bt={data(){return{reportRows:[],reportHeader:[{text:"Name",value:"name"},{text:"Code",value:"code"},{text:"Status",value:"status"}]}},methods:{getReport(){i.A.get(St+"/getProjects").then((t=>{this.reportRows=t.data}))},changeStatus(t,e){this.$store.state.dynamicProgress=!0,this.$store.state.progressTitle="Changing Status";let r=new FormData;r.append("id",t),r.append("status",e),i.A.post(St+"/changeProjectStatus/",r,{headers:{"Content-Type":"multipart/form-data"}}).then((()=>{this.$store.state.dynamicProgress=!1,this.getReport()})).catch((t=>{this.$store.state.dynamicProgress=!1,console.log(t.response.data.error)}))}},created(){this.getReport()}},$t=bt,jt=(0,w.A)($t,xt,wt,!1,null,null,null),Tt=jt.exports;a.Ay.use(M.Ay);const Pt=[{path:"/AddProject",name:"AddProject",component:K},{path:"/TrackTime",name:"TrackTime",component:ot},{path:"/AddTime",name:"AddTime",component:ht},{path:"/TimeReport",name:"TimeReport",component:kt},{path:"/ProjectsReport",name:"ProjectsReport",component:Tt}],Mt=new M.Ay({routes:Pt});var Ft=Mt;a.Ay.config.productionTip=!1,a.Ay.use(s.Ay),new a.Ay({vuetify:j,store:P,router:Ft,render:t=>t(b)}).$mount("#app")}},e={};function r(a){var s=e[a];if(void 0!==s)return s.exports;var i=e[a]={exports:{}};return t[a].call(i.exports,i,i.exports,r),i.exports}r.m=t,function(){var t=[];r.O=function(e,a,s,i){if(!a){var n=1/0;for(d=0;d<t.length;d++){a=t[d][0],s=t[d][1],i=t[d][2];for(var o=!0,c=0;c<a.length;c++)(!1&i||n>=i)&&Object.keys(r.O).every((function(t){return r.O[t](a[c])}))?a.splice(c--,1):(o=!1,i<n&&(n=i));if(o){t.splice(d--,1);var l=s();void 0!==l&&(e=l)}}return e}i=i||0;for(var d=t.length;d>0&&t[d-1][2]>i;d--)t[d]=t[d-1];t[d]=[a,s,i]}}(),function(){r.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return r.d(e,{a:e}),e}}(),function(){r.d=function(t,e){for(var a in e)r.o(e,a)&&!r.o(t,a)&&Object.defineProperty(t,a,{enumerable:!0,get:e[a]})}}(),function(){r.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"===typeof window)return window}}()}(),function(){r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)}}(),function(){r.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})}}(),function(){var t={524:0};r.O.j=function(e){return 0===t[e]};var e=function(e,a){var s,i,n=a[0],o=a[1],c=a[2],l=0;if(n.some((function(e){return 0!==t[e]}))){for(s in o)r.o(o,s)&&(r.m[s]=o[s]);if(c)var d=c(r)}for(e&&e(a);l<n.length;l++)i=n[l],r.o(t,i)&&t[i]&&t[i][0](),t[i]=0;return r.O(d)},a=self["webpackChunktestproj"]=self["webpackChunktestproj"]||[];a.forEach(e.bind(null,0)),a.push=e.bind(null,a.push.bind(a))}();var a=r.O(void 0,[504],(function(){return r(2393)}));a=r.O(a)})();
//# sourceMappingURL=app.fa77fddc.js.map